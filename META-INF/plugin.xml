<idea-plugin version="2">
    <id>ool.idea.plugin</id>
    <name>Oxy template support</name>
    <version>0.4.3</version>
    <vendor email="p.mayr@oxyonline.cz" url="http://stash.oxyonline.local/projects/CZC/repos/macro-support-plugin">
        oXy Online s.r.o.
    </vendor>

    <depends>com.intellij.modules.ultimate</depends>
    <depends>com.intellij.modules.lang</depends>
    <depends>JavaScript</depends>

    <description><![CDATA[
      Podpora šablonovacího systému oxy.
    ]]></description>

    <change-notes><![CDATA[
        <b>0.1</b> - první stabilní verze
        <ul>
            <li>
                rozlišení js / html bloku, direktiv a maker
            </li>
            <li>
                stránka s nastavením barev
            </li>
            <li>
                samostatné syntaktické stromy pro jednotlivé jazyky, zvyrazňovač syntaxe
            </li>
        </ul>
        <b>0.1.1</b>
        <ul>
            <li>
                dploňování a zvýrazňování odpovídající značky hranice bloku
            </li>
            <li>
                našeptávání direktiv
            </li>
            <li>
                'expr:' parametr se zahrnuje do javascriptového bloku
            </li>
        </ul>
        <b>0.2</b>
        <ul>
            <li>
                tagy maker - doplňování konců nepárových a koncových tagů párových
            </li>
            <li>
                doplňování uvozovek u parametru maker a direktiv
            </li>
            <li>
                našeptávání 'expr: ' v parametru makra
            </li>
        </ul>
        <b>0.2.1</b>
        <ul>
            <li>
                commenter - možnost zakonentování vyznačeného bloku
            </li>
        </ul>
        <b>0.3</b>
        <ul>
            <li>
                napovídání souboru v parametru direktivy, automatická úprava referencí při přesunu souboru, vyznačování neplatných referencí
            </li>
            <li>
                commenter - multilang support
            </li>
        </ul>
        <b>0.3.1</b>
        <ul>
            <li>
                vyznačování odpovídajících tagů a uvozovek
            </li>
            <li>
                bugfixy v doplňování tagů a uvozovek
            </li>
        </ul>
        <b>0.4</b>
        <ul>
            <li>
                formátovač
            </li>
            <li>
                možnost sbalení obsahu makra / js bloku
            </li>
            <li>
                kontrola, zda sedí jméno otvíracího a koncového tagu
            </li>
            <li>
                fix našeptávání koncového tagu
            </li>
        </ul>
        <b>0.4.1</b>
        <ul>
            <li>
                fix řádkového komentáře v js
            </li>
        </ul>
        <b>0.4.2</b>
        <ul>
            <li>
                našeptávání předdefinovaných objektů a funkcí šablonovacího systému (oxy, out...)
            </li>
            <li>
                vypnutí kontroly 'Expression statement which is not assignment or call' v js
            </li>
        </ul><b>0.4.3</b>
        <ul>
            <li>
                mašeptávání a prokliky java maker, mašeptávání parametrů maker v xml
            </li>
            <li>
                našeptávání a prokliky globálních proměnných js
            </li>
        </ul>]]>
    </change-notes>

    <!-- please see http://confluence.jetbrains.com/display/IDEADEV/Build+Number+Ranges for description -->
    <idea-version since-build="133" />

    <!-- please see http://confluence.jetbrains.com/display/IDEADEV/Plugin+Compatibility+with+IntelliJ+Platform+Products
         on how to target different products -->
    <!-- uncomment to enable plugin in all products
    <depends>com.intellij.modules.lang</depends>
    -->

    <extensions defaultExtensionNs="com.intellij">
        <fileTypeFactory implementation="ool.idea.plugin.file.OxyTemplateFileTypeFactory"/>
        <lang.parserDefinition language="OxyTemplate"
                               implementationClass="ool.idea.plugin.file.OxyTemplateParserDefinition"/>
        <lang.parserDefinition language="OxyTemplateInnerJs"
                               implementationClass="ool.idea.plugin.file.OxyTemplateInnerJsParserDefinition"/>
        <editorHighlighterProvider filetype="OxyTemplate"
                                   implementationClass="ool.idea.plugin.highlighter.OxyTemplateHighlighterProvider"/>
        <lang.fileViewProviderFactory language="OxyTemplate"
                                      implementationClass="ool.idea.plugin.file.OxyTemplateFileViewProviderFactory"/>
        <braceMatcher filetype="OxyTemplate" implementationClass="ool.idea.plugin.highlighter.MatchingElementHighlighter" />
        <colorSettingsPage implementation="ool.idea.plugin.highlighter.OxyTemplateColorSettingsPage"/>
        <completion.contributor language="OxyTemplate" implementationClass="ool.idea.plugin.editor.completion.ExpressionStatement"/>
        <completion.contributor language="OxyTemplate" implementationClass="ool.idea.plugin.editor.completion.Directive"/>
        <completion.contributor language="OxyTemplate" implementationClass="ool.idea.plugin.editor.completion.UnclosedMacroTag"/>
        <completion.contributor language="OxyTemplate" implementationClass="ool.idea.plugin.editor.completion.XmlMacroParam"/>
        <completion.contributor language="OxyTemplate" implementationClass="ool.idea.plugin.editor.completion.XmlMacroName"/>
        <completion.contributor language="HTML" implementationClass="ool.idea.plugin.editor.completion.UnclosedTag"/>
        <completion.contributor language="OxyTemplateInnerJs" implementationClass="ool.idea.plugin.editor.completion.JsIdentifier"/>
        <typedHandler implementation="ool.idea.plugin.editor.type.BlockMarkerHandler"/>
        <typedHandler implementation="ool.idea.plugin.editor.type.ParamQuoteHandler"/>
        <typedHandler implementation="ool.idea.plugin.editor.type.TagCloseHandler"/>
        <backspaceHandlerDelegate implementation="ool.idea.plugin.editor.type.BackspaceHandler"/>
        <enterHandlerDelegate implementation="ool.idea.plugin.editor.type.EnterHandler"/>
        <lang.commenter language="OxyTemplate"
                        implementationClass="ool.idea.plugin.editor.comment.OxyTemplateCommenter"/>
        <multiLangCommenter implementation="ool.idea.plugin.editor.comment.CommentProvider"/>
        <lang.formatter language="OxyTemplate" implementationClass="ool.idea.plugin.editor.format.OxyTemplateFormatter"/>
        <lang.foldingBuilder language="OxyTemplate" implementationClass="ool.idea.plugin.editor.folding.MatchingTagsAndJsBlock"/>
        <lang.elementManipulator forClass="ool.idea.plugin.psi.DirectiveParamFileReference"
                                 implementationClass="ool.idea.plugin.editor.FileReferenceManipulator"/>
        <localInspection language="OxyTemplate" shortName="UnresolvedInclude" groupName="Oxy template" enabledByDefault="true" level="WARNING"
                         implementationClass="ool.idea.plugin.editor.inspection.UnresolvedDirectiveIncludeInspection" />
        <localInspection language="OxyTemplate" shortName="NotMatchingTag" groupName="Oxy template" enabledByDefault="true" level="WARNING"
                         implementationClass="ool.idea.plugin.editor.inspection.NotMatchingTagsInspection" />
        <fileBasedIndex implementation="ool.idea.plugin.file.index.JsGlobalsIndex"/>
        <fileBasedIndex implementation="ool.idea.plugin.file.index.JavaMacroNameIndex"/>
    </extensions>
    <extensions defaultExtensionNs="JavaScript">
        <predefinedLibraryProvider implementation="ool.idea.plugin.editor.InnerJsPredefinedLibrary"/>
        <intentionAndInspectionFilter language="OxyTemplate" implementationClass="ool.idea.plugin.editor.inspection.JsIntentionAndInspectionFilter"/>
        <dialectSpecificHandlersFactory language="OxyTemplateInnerJs" implementationClass="ool.idea.plugin.file.OxyTemplateJsSpecificHandlersFactory"/>
    </extensions>

    <application-components>
        <!-- Add your application components here -->
    </application-components>

    <project-components>
        <!-- Add your project components here -->
    </project-components>

    <actions>
        <!-- Add your actions here -->
    </actions>
</idea-plugin>
